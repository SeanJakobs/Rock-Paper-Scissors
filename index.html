<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Rock Paper Scissors</title>
  <meta name="description" content="Rock Paper Scissors">
  <meta name="SSXean " content="Sean Jakobs">

  <link rel="stylesheet" href="">

</head>

<body>

    <h1>First to win five rounds, wins the game!</h1>
    <button id = "rock">Rock</button>
    <button id = "paper">Paper</button>
    <button id = "Scissors">Scissors</button>

    <div>
        <button style = "margin: 15px 0" onclick="location.reload();">Refresh</button>
    </div>

    <div id = "results">
        <p>Player Score: <span id = "playerScore">0</span></p>
        <p>Computer Score: <span id = "computerScore">0</span></p>
        <p id = "history"></p>
    </div>



  <script>
    let playerScore = 0;
    let computerScore = 0;

    function win() {
        playerScore++ 
        document.getElementById("history").innerHTML = document.getElementById("history").innerHTML + "<br/>you won";
        document.getElementById("playerScore").textContent = playerScore; 
        if (playerScore == 5){
            gameWon();
            
        }
    }

    function lose() {
        computerScore++
        document.getElementById("history").innerHTML = document.getElementById("history").innerHTML + "<br/>you lose";
        document.getElementById("computerScore").textContent = computerScore; 
        if (computerScore == 5){
            gameLost();
        }
    }

    function gameWon() {
        document.getElementsByTagName("h1")[0].innerHTML = "You won the game!"
    }
    function gameLost() {
        document.getElementsByTagName("h1")[0].innerHTML = "You lost the game"
    }
    function draw() {
        document.getElementById("history").innerHTML = document.getElementById("history").innerHTML + "<br/>you draw";
    }


    function computerPlay(){
        randomNumber = Math.random();
        if (randomNumber > (2 / 3)){
            return 'rock'
        } else if (randomNumber > (1 / 3)) {
            return 'paper'
        } else {
            return 'scissors'
        }
    }

    function playRound(playerSelection, computerSelection){
        if (playerScore == 5 || computerScore == 5){
            return;
        };
        if (playerSelection == computerSelection){
            draw();
        } else if (playerSelection == 'rock'){
            if (computerSelection == 'paper'){
                lose();
            } else {
                win();
            }
        } else if (playerSelection == 'paper'){
            if (computerSelection == 'rock'){
                win();
            } else {
                lose();
            }
        } else {
            if (computerSelection == 'rock'){
                lose();
            } else {
                win();
            }
        }
    }


    const buttons = document.querySelectorAll('button');
    buttons.forEach((button) => {
        button.addEventListener('click', (e) => {
            playRound(button.id, computerPlay())
        });
    });

    const history = document.querySelector('#history');

  </script>
</body>
</html>